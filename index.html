<!DOCTYPE html>
<html>
  <head>
      <meta charset="UTF-8">
      <title></title>
  </head>
  <body>
      <button id="rock">Rock</button>
      <button id="paper">Paper</button>
      <button id="scissors">Scissors</button>

      <script>
        const body = document.querySelector('body');
        const rock = document.querySelector('#rock');
        const paper = document.querySelector('#paper');
        const scissors = document.querySelector('#scissors');
        const winner = document.createElement('h1');
        const score = document.createElement('h1');

        let playerScore = 0;
        let computerScore = 0;
        
        rock.addEventListener('click', (e) => playRound('rock', getComputerChoice()));
        paper.addEventListener('click', (e) => playRound('paper', getComputerChoice()));
        scissors.addEventListener('click', (e) => playRound('scissors', getComputerChoice()));
          
        function getComputerChoice() {
              let randomNumber = Math.floor(Math.random() * 3);
              if (randomNumber === 0) {
                  return "rock";
              }
              else if (randomNumber === 1) {
                  return "paper";
              }
              else {
                  return "scissors";
              }
          }

        function playRound(playerSelection, computerSelection) {
            console.log(playerSelection);
              if (playerSelection.toLowerCase() === 'rock') {
                    if (computerSelection === "rock") {
                        console.log("Draw! Rock vs Rock");
                        score.textContent = playerScore + ':' + computerScore;
                        // "draw";
                    }
                    else if (computerSelection === "paper") {
                        console.log("You lose! Paper beats rock");
                        computerScore++;
                        score.textContent = playerScore + ':' + computerScore;
                        //return "lose";
                    }
                    else {
                        console.log("You win! Rock beats scissors");
                        playerScore++;
                        score.textContent = playerScore + ':' + computerScore;
                        //return "win";
                    }
                }
              else if (playerSelection.toLowerCase() === 'paper') {
                    if (computerSelection === "rock") {
                        console.log("You win! Paper beats rock");
                        playerScore++;
                        score.textContent = playerScore + ':' + computerScore;
                        //return "win";
                    }
                    else if (computerSelection === "paper") {
                        console.log("Draw! Paper vs paper");
                        score.textContent = playerScore + ':' + computerScore;
                        //return "draw";
                    }
                    else {
                        console.log("You lose! Scissors beats paper");
                        computerScore++;
                        score.textContent = playerScore + ':' + computerScore;
                        //return "lose";
                    }
                }
              else {
                    if (computerSelection === "rock") {
                        console.log("You lose! Rock beats scissors");
                        computerScore++;
                        score.textContent = playerScore + ':' + computerScore;
                        //return "lose";
                    }
                    else if (computerSelection === "paper") {
                        console.log("You win! Scissors beats paper");
                        playerScore++;
                        score.textContent = playerScore + ':' + computerScore;
                        //return "win";
                    }
                    else {
                        console.log("Draw! Scissors vs scissors");
                        score.textContent = playerScore + ':' + computerScore;
                        //return "draw";
                    }
                }
              body.appendChild(score);
              if (computerScore === 5 || playerScore === 5) {
                if (computerScore === 5) {
                  winner.textContent = 'You lose';
                }
                else {
                  winner.textContent = 'You win';
                }
                body.appendChild(winner);
                rock.setAttribute('disabled', true);
                paper.setAttribute('disabled', true);
                scissors.setAttribute('disabled', true);
              }
            }

          
      </script>
  </body>
</html>